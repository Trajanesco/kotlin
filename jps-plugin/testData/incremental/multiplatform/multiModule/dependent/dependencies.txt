// multiplatform module A

ac [common]
aJvm [jvm]
aJs [js]

aJvm -> ac [expectedBy]
aJs -> ac [expectedBy]

// multiplatform module B (depends on module A)

bc [common]
bJvm [jvm]
bJs [js]

bJvm -> bc [expectedBy]
bJs -> bc [expectedBy]

bc -> ac [compile]
bJvm -> aJvm [compile]
bJs -> aJs [compile]